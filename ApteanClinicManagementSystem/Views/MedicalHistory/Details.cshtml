@model IEnumerable<ClinicManagementSystemModels.Models.DisplayMedicalHistoryModel>

@{
    ViewBag.Title = "PatientDetails";
}

<h2>Medical History</h2>
<hr />
<div class="col-md-offset-3 col-md-6 " style="padding-bottom:2%">

    @foreach (var item in Model)
    {
        <ul class="list-group">
            <li class="list-group-item">
                <b>@Html.DisplayNameFor(model => model.Date):</b>&nbsp;
                @if (item.AppointmentId == -1)
                {
                    @Html.Raw("-")
                }
                else
                {
                    @Html.DisplayFor(ModelItem => item.Date)
                }
            </li>

            <li class="list-group-item">
                <b>@Html.DisplayNameFor(model => model.PatientName):</b> @Html.DisplayFor(ModelItem => item.PatientName)
            </li>

            <li class="list-group-item">
                <b>@Html.DisplayNameFor(model => model.DoctorName):</b> @Html.DisplayFor(ModelItem => item.DoctorName)
            </li>

            <li class="list-group-item">
                <b>@Html.DisplayNameFor(model => model.Diagnosis):</b> @Html.DisplayFor(ModelItem => item.Diagnosis)
            </li>

            <li class="list-group-item">
                <b>@Html.DisplayNameFor(model => model.Medicine):</b> @Html.DisplayFor(ModelItem => item.Medicine)
            </li>

            <li class="list-group-item">
                <b>@Html.DisplayNameFor(model => model.Remarks):</b> @Html.DisplayFor(ModelItem => item.Remarks)
            </li>

        </ul>
    }
    @{
        var cookie = Request.Cookies[FormsAuthentication.FormsCookieName];
        FormsAuthenticationTicket ticket = FormsAuthentication.Decrypt(cookie.Value);
        if (!ticket.UserData.ToString().Equals("Patient"))
        {
            <hr />
            <input type="button" value="Back" class="btn btn-default" onclick="@("location.href='" + Url.Action("Index", "MedicalHistory") + "'")" />
        }
    }
</div>


